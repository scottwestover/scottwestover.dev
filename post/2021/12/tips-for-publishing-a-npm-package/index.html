<!doctype html><html class=no-js lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Tips For Publishing A npm Package - Scott Westover</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content>
<meta property="og:title" content="Tips For Publishing A npm Package">
<meta property="og:description" content="As a developer, one of the things I strive to do is reuse my code across my various projects when possible, and one of the best tools available to do this is the npm registry. If you are not familiar, npm is a package manager for the JavaScript programming language and npm is the default package manager for the Node.js runtime environment. npm is a free registry that allows you to publish both public and private npm packages that can be shared with other npm users.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://scottwestover.dev/post/2021/12/tips-for-publishing-a-npm-package/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2021-12-22T00:00:01+00:00">
<meta property="article:modified_time" content="2021-12-22T00:00:01+00:00">
<meta itemprop=name content="Tips For Publishing A npm Package">
<meta itemprop=description content="As a developer, one of the things I strive to do is reuse my code across my various projects when possible, and one of the best tools available to do this is the npm registry. If you are not familiar, npm is a package manager for the JavaScript programming language and npm is the default package manager for the Node.js runtime environment. npm is a free registry that allows you to publish both public and private npm packages that can be shared with other npm users."><meta itemprop=datePublished content="2021-12-22T00:00:01+00:00">
<meta itemprop=dateModified content="2021-12-22T00:00:01+00:00">
<meta itemprop=wordCount content="1204">
<meta itemprop=keywords content="NPM,NodeJS,Tutorial,">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Tips For Publishing A npm Package">
<meta name=twitter:description content="As a developer, one of the things I strive to do is reuse my code across my various projects when possible, and one of the best tools available to do this is the npm registry. If you are not familiar, npm is a package manager for the JavaScript programming language and npm is the default package manager for the Node.js runtime environment. npm is a free registry that allows you to publish both public and private npm packages that can be shared with other npm users.">
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel="shortcut icon" href=/favicon.ico>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<div class="container header__container">
<div class=logo>
<a class=logo__link href=/ title="Scott Westover" rel=home>
<div class="logo__item logo__text">
<div class=logo__title>Scott Westover</div>
<div class=logo__tagline>A Developer's Blog</div>
</div>
</a>
</div>
<nav class=menu>
<button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span>
</button>
<ul class=menu__list>
<li class=menu__item>
<a class=menu__link href=/courses/>
<span class=menu__text>Courses</span>
</a>
</li>
<li class=menu__item>
<a class=menu__link href=/about/>
<span class=menu__text>About Me</span>
</a>
</li>
</ul>
</nav>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>Tips For Publishing A npm Package</h1>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-12-22T00:00:01Z>December 22, 2021</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/npm/ rel=category>NPM</a>, <a class=meta__link href=/categories/nodejs/ rel=category>NodeJS</a>, <a class=meta__link href=/categories/tutorial/ rel=category>Tutorial</a>
</span>
</div></div>
</header>
<div class="content post__content clearfix">
<p>As a developer, one of the things I strive to do is reuse my code across my various projects when possible, and one of the best tools available to do this is the npm registry. If you are not familiar, npm is a package manager for the JavaScript programming language and npm is the default package manager for the Node.js runtime environment. npm is a free registry that allows you to publish both public and private npm packages that can be shared with other npm users.</p>
<p>I had previously created a few npm packages and published these packages to the
<a href=https://docs.github.com/en/packages target=_blank rel=noopener>GitHub Packages</a>
registry, and this was working great while I was the only one using these packages. However, I wanted to share some of my code with other developers, and there is currently a limitation with public packages hosted on the GitHub Packages registry where that anyone that wants to install the package is required to authenticate with the registry, which requires you to create a personal access token with the required scopes. If you are interested, you can read more about this here:
<a href=https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#authenticating-to-github-packages target=_blank rel=noopener>Working with a GitHub Packages Registry</a>
.</p>
<p>This was not something I wanted to force on other developers if they wanted to use one of the packages that I shared with the public, so I decided to publish some of these packages to npm. There are a lot of in depth tutorials on how to publish a npm package, however I found that some tutorials were limited and didn&rsquo;t contain all of the information that I needed, so I decided to document and share the steps that I took to publish a npm package.</p>
<p>The purpose of this guide is to provide some helpful tips and notes for publishing a npm package and not to be a full guide to this process.</p>
<h2 id=package-scope-name-and-visibility>Package Scope, Name, and Visibility</h2>
<p>Before publishing your npm package, you will need to answer a few questions regarding your package:</p>
<ul>
<li>What will the name of your package be?</li>
<li>Should my package be public or private?</li>
<li>Should my package be scoped or not?</li>
</ul>
<p>If you are not familiar with scopes and npm packages, a scope is basically a namespace for related npm packages. One good example of this is the npm packages published for Angular. Angular has a npm scope of <code>@angular</code>, and some example npm packages are <code>@angular/core</code> and <code>@angular/cli</code>. Another good example is the Babel npm packages.</p>
<p>Note: The scope name is everything between the <code>@</code> and the slash.</p>
<p>Besides adding a prefix to the npm package name, the <code>@angular</code> part, there are a few other benefits to scopes:</p>
<ul>
<li>A scope allows you to create a package with the same name as another package that was created by another user or organization</li>
<li>A scoped package can be private, which allows you to control who can access your npm package.</li>
</ul>
<p>When you go to publish your npm package, if you choose to not use a scope, then you will need to make sure that your package name is unique and that it does not already exist, otherwise you will not be able to publish the npm package. Also, if you chose to not use a scope, then you npm package will have to be public.</p>
<p>Note: When you sign up for a user account or create an organization on npm, you are automatically granted a scope that matches your user or organization name.</p>
<h2 id=packagejson>Package.json</h2>
<p>In order to publish your package to the npm registry, your package must include a <code>package.json</code>. More than likely, you will already have this file in your project. The two required fields are the <code>name</code> and <code>version</code> fields.</p>
<p>The <code>name</code> field contains your package&rsquo;s name, and must be lowercase and one word, and may contain hyphens and underscores. If you are publishing a scoped npm package, you should make sure to include the scope name as part of the package name.</p>
<p>The <code>version</code> field must be in the form x.x.x and follow the semantic versioning guidelines.</p>
<p>Another important field is the <code>main</code> field. The <code>main</code> field is used as the primary entry point to your program, and if this field is not provided then a default value of <code>index.js</code> will be used. As an example, if I have a file called <code>main.js</code> and this file exports my shared code, then I would want to make sure the <code>main</code> field is set to the <code>main.js</code> file.</p>
<h2 id=keeping-files-out-of-your-package>Keeping Files Out Of Your Package</h2>
<p>To exclude files from your npm package when you publish it, you can use the <code>.npmignore</code> file. This file is similar to the <code>.gitignore</code> file, and npm will ignore any files that match the contents in this file. By default, if you don&rsquo;t provide a <code>.npmignore</code> file, then npm will check to see if there is a <code>.gitignore</code> file, and use that file for ignore files. There is a also a variety of paths and file paths that are always ignored, and you can read more about these files here:
<a href=https://docs.npmjs.com/cli/v8/using-npm/developers#testing-whether-your-npmignore-or-files-config-works target=_blank rel=noopener>npmignore</a>
.</p>
<h2 id=testing>Testing</h2>
<p>Before publishing your npm package, it can be helpful to test your package locally. There are a number of ways to do this, and there are even tools to publish npm packages to a local registry. One of the easiest ways to test the install is to do a local install. To do this, go into some other folder and then do:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd ../some-other-folder
npm install ../my-package
</code></pre></div><p>to install it locally into the node_modules folder in that other place.</p>
<p>Then go into the node-repl, and try using require(&ldquo;my-thing&rdquo;) to bring in your module&rsquo;s main module.</p>
<h2 id=publishing>Publishing</h2>
<p>Before you can publish a npm package, you will need to sign up for a npm user account, which you can do here:
<a href=https://www.npmjs.com/signup target=_blank rel=noopener>npm signup</a>
. Once you do this, you can either use the <code>npm login</code> command in your terminal to provide your npm user credentials or you can just run the <code>npm publish</code> command when you are ready to do so, and this will prompt you to login.</p>
<p>By default, when you go to publish a scoped npm package, the package will be set to <code>private</code>. If you want to publish a public scoped npm package, you will need to pass an additional flag when running the publish command: <code>npm publish --access public</code>.</p>
<p>Once you publish the package, you should be able to visit <code>https://npmjs.com/package/*package-name</code>, replacing package-name* with the name of your package, to see your new npm package.</p>
<h2 id=updating-your-package>Updating Your Package</h2>
<p>After you have published your npm package, if you need to update the package you will need to update the version of your package because you cannot override a version of the package that has already been published. To do this, you can use the <code>npm version</code> commands:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm version patch // 1.0.1
npm version minor // 1.1.0
npm version major // 2.0.0
</code></pre></div><p>In general, <code>patch</code> is meant for backward compatible bug fixes, <code>minor</code> is for backwards compatible new features, and <code>major</code> is for updates that include changes that break backwards compatibility.</p>
<h2 id=conclusion>Conclusion</h2>
<p>Publishing a npm package is a great way for you to share code with others, both publicly and privately. I hope you found this article helpful. Please feel free to post any questions or comments below.</p>
</div>
<footer class=post__footer>
<div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg>
<ul class=tags__list>
<li class=tags__item>
<a class="tags__link btn" href=/tags/npm/ rel=tag>NPM</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/tags/nodejs/ rel=tag>NodeJS</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/tags/tutorial/ rel=tag>Tutorial</a>
</li>
</ul>
</div>
</footer>
</article>
</main>
<div class="authorbox clearfix">
<figure class=authorbox__avatar>
<img alt="Scott Westover avatar" src=https://secure.gravatar.com/avatar/d5b6863a31baa2c531949202b1de9c82 class=avatar height=90 width=90>
</figure>
<div class=authorbox__header>
<span class=authorbox__name>About Scott Westover</span>
</div>
<div class=authorbox__description>
Scott Westover is a Software Developer who loves coding, writing tutorials, participating in game jams, and learning about new technologies. When he is not coding, he is either spending time with his wife and two kids or is reading a great book. Scott is looking to form connections and share his knowledge.
</div>
</div>
<nav class="pager flex">
<div class="pager__item pager__item--next">
<a class=pager__link href=/post/2022/01/getting-started-with-github-actions-part-1/ rel=next>
<span class=pager__subtitle>Next&#8201;»</span>
<p class=pager__title>Getting Started With GitHub Actions Part 1</p>
</a>
</div>
</nav>
<section class=comments>
<div id=gitment-comments></div>
</section>
<script src=https://utteranc.es/client.js repo=scottwestover/scottwestover.dev issue-term=pathname theme=github-light crossorigin=anonymous async></script>
</div>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__copyright>
&copy; 2022 Scott Westover.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span>
</div>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
</body>
</html>