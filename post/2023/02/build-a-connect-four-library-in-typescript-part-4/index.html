<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Build A Connect Four Library In TypeScript - Part 4 - Scott Westover</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Build A Connect Four Library In TypeScript - Part 4"><meta property="og:description" content="In this series, we will go over how to create a reusable TypeScript class that can be used to build the game Connect Four, and in a future series we will see how we can use this library to create implementations of the Connect Four game for the CLI and the web.
Previously, in part 3 , we added the logic for allowing the player to place a game piece in a column, logic for validating this move, and we started adding the logic for if the game is over."><meta property="og:type" content="article"><meta property="og:url" content="https://scottwestover.dev/post/2023/02/build-a-connect-four-library-in-typescript-part-4/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-03T06:00:02+00:00"><meta property="article:modified_time" content="2023-02-03T06:00:02+00:00"><meta itemprop=name content="Build A Connect Four Library In TypeScript - Part 4"><meta itemprop=description content="In this series, we will go over how to create a reusable TypeScript class that can be used to build the game Connect Four, and in a future series we will see how we can use this library to create implementations of the Connect Four game for the CLI and the web.
Previously, in part 3 , we added the logic for allowing the player to place a game piece in a column, logic for validating this move, and we started adding the logic for if the game is over."><meta itemprop=datePublished content="2023-02-03T06:00:02+00:00"><meta itemprop=dateModified content="2023-02-03T06:00:02+00:00"><meta itemprop=wordCount content="7819"><meta itemprop=keywords content="HTML5,Game Development,TypeScript,Tutorial,Connect Four,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Build A Connect Four Library In TypeScript - Part 4"><meta name=twitter:description content="In this series, we will go over how to create a reusable TypeScript class that can be used to build the game Connect Four, and in a future series we will see how we can use this library to create implementations of the Connect Four game for the CLI and the web.
Previously, in part 3 , we added the logic for allowing the player to place a game piece in a column, logic for validating this move, and we started adding the logic for if the game is over."><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Scott Westover" rel=home><div class="logo__item logo__text"><div class=logo__title>Scott Westover</div><div class=logo__tagline>A Developer's Blog</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/courses/><span class=menu__text>Courses</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About Me</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Build A Connect Four Library In TypeScript - Part 4</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-02-03T06:00:02Z>February 03, 2023</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/html5/ rel=category>HTML5</a>, <a class=meta__link href=/categories/game-development/ rel=category>Game Development</a>, <a class=meta__link href=/categories/typescript/ rel=category>TypeScript</a>, <a class=meta__link href=/categories/tutorial/ rel=category>Tutorial</a>, <a class=meta__link href=/categories/connect-four/ rel=category>Connect Four</a></span></div></div></header><figure class="post__thumbnail thumbnail"><img class=thumbnail__image src=/post/2023/02/build-a-connect-four-library-in-typescript-part-4/images/build-a-connect-four-library-in-typescript-part-4-thumbnail.png alt="Build A Connect Four Library In TypeScript - Part 4"></figure><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#series-links>Series Links</a></li><li><a href=#series-code>Series Code</a></li><li><a href=#checking-if-a-player-won>Checking If A Player Won</a></li><li><a href=#checking-for-a-vertical-win>Checking For A Vertical Win</a></li><li><a href=#checking-for-a-horizontal-win>Checking For A Horizontal Win</a></li><li><a href=#checking-for-a-diagonal-forward-slash-win>Checking For A Diagonal Forward Slash Win</a></li><li><a href=#checking-for-a-diagonal-backward-slash-win>Checking For A Diagonal Backward Slash Win</a></li><li><a href=#updated-test>Updated Test</a></li><li><a href=#wrap-up>Wrap Up</a></li></ul></nav></div></div><div class="content post__content clearfix"><p>In this series, we will go over how to create a reusable TypeScript class that can be used to build the game Connect Four, and in a future series we will see how we can use this library to create implementations of the Connect Four game for the CLI and the web.</p><p>Previously, in
<a href=/post/2023/01/build-a-connect-four-library-in-typescript-part-3/>part 3</a>
, we added the logic for allowing the player to place a game piece in a column, logic for validating this move, and we started adding the logic for if the game is over.</p><p>In this part of the series, we are going to work on adding in the logic for checking if a player has won by getting a Connect Four.</p><h2 id=series-links>Series Links</h2><p>You can find links to all of the posts in this series here:</p><ul><li><a href=/post/2023/01/build-a-connect-four-library-in-typescript-part-1/>Part 1</a></li><li><a href=/post/2023/01/build-a-connect-four-library-in-typescript-part-2/>Part 2</a></li><li><a href=/post/2023/01/build-a-connect-four-library-in-typescript-part-3/>Part 3</a></li><li><a href=/post/2023/02/build-a-connect-four-library-in-typescript-part-4/>Part 4</a></li><li><a href=/post/2023/02/build-a-connect-four-library-in-typescript-part-5/>Part 5</a></li></ul><h2 id=series-code>Series Code</h2><p>You can find the code for the end of part 3 here:
<a href=https://github.com/devshareacademy/connect-four/tree/blog-post-3 target=_blank rel=noopener>Blog Post 3 Code</a></p><p>You can find the completed source code for this article here on GitHub:
<a href=https://github.com/devshareacademy/connect-four/tree/blog-post-4 target=_blank rel=noopener>Blog Post 4 Code</a></p><p>Lastly, if you would just like to use a NPM package for this library, you can find that here:
<a href=https://www.npmjs.com/package/@devshareacademy/connect-four target=_blank rel=noopener>NPM - @devshareacademy/connect-four</a>
.</p><h2 id=checking-if-a-player-won>Checking If A Player Won</h2><p>In order to know if a player has won the game after playing their last game piece, we will need to check for one of the four possible win conditions for Connect Four:</p><ul><li>Getting four consecutive game pieces in a single row</li><li>Getting four consecutive game pieces in a single column</li><li>Getting four consecutive game pieces diagonally, in a forward slash</li><li>Getting four consecutive game pieces diagonally, in a backward slash</li></ul><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-1.png alt="Possible win conditions in Connect Four"></p><p>For each of these win conditions, when a game piece is placed, we will need to check for the possible win segments that correspond to that game piece. For example, if we place a game piece in the 3rd column and the game piece landed in the 2nd from the top row, we would need to check the following combinations for a possible win:</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-2.png alt="Possible winning combinations"></p><p>For now, we won&rsquo;t go into detail on how we will perform each of these checks, but instead we will create placeholder private methods in our <code>ConnectFour</code> class, and we will cover each of these checks shortly. To do this, add the following code to <code>src/connect-four.ts</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks to see if the last played game piece resulted in four in a row in the provided row.
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks the possible winning combinations for the given row based on where the game piece was played.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Example:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * If the piece was played in column 2, we would need to check the following combinations for a win
</span></span></span><span style=display:flex><span><span style=color:#75715e> * since column 2 is included in these combinations for a row.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [0,1,2,3]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [1,2,3,4]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [2,3,4,5]
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isHorizontalWin</span>(<span style=color:#a6e22e>lastPiecePlayedRow</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>minCol</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>maxCol</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks to see if the last played game piece resulted in four in a row in the provided column.
</span></span></span><span style=display:flex><span><span style=color:#75715e> * When we check for a win in column, we only need to check the current cell and the three cells
</span></span></span><span style=display:flex><span><span style=color:#75715e> * below that one since there will be no game pieces above the current piece. This means there
</span></span></span><span style=display:flex><span><span style=color:#75715e> * could only be one possible winning combination for the column.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * We also only need to check for a win if this is at least the fourth game piece added to this column,
</span></span></span><span style=display:flex><span><span style=color:#75715e> * since four pieces are required for a win.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isVerticalWin</span>(<span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks to see if the last played game piece resulted in four in a row in a forward diagonal.
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks the possible winning combinations for the given row and column based on where the game piece was played.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Example:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * If the piece was played in column 3 row 3, we would need to check the following combinations for a win
</span></span></span><span style=display:flex><span><span style=color:#75715e> * since column 3 row 3 is included in each combination:
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 1, row: 5}, {col: 2, row: 4}, {col: 3, row: 3}, {col: 4, row: 2}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 2, row: 4}, {col: 3, row: 3}, {col: 4, row: 2}, {col: 5, row: 1}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 3, row: 4}, {col: 4, row: 2}, {col: 5, row: 1}, {col: 6, row: 0}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isForwardSlashWin</span>(<span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>minCol</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>maxRow</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks to see if the last played game piece resulted in four in a row in a backward diagonal.
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks the possible winning combinations for the given row and column based on where the game piece was played.
</span></span></span><span style=display:flex><span><span style=color:#75715e> *
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Example:
</span></span></span><span style=display:flex><span><span style=color:#75715e> * If the piece was played in column 3 row 3, we would need to check the following combinations for a win
</span></span></span><span style=display:flex><span><span style=color:#75715e> * since column 3 row 3 is included in each combination:
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 5, row: 5}, {col: 4, row: 4}, {col: 3, row: 3}, {col: 2, row: 2}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 4, row: 4}, {col: 3, row: 3}, {col: 2, row: 2}, {col: 1, row: 1}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> *  - [{col: 3, row: 3}, {col: 2, row: 2}, {col: 1, row: 1}, {col: 0, row: 0}]
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isBackwardSlashWin</span>(<span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>maxCol</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>maxRow</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In the code above, we created four new <code>private</code> methods on our <code>ConnectFour</code> class and we added some comments on what each of these four methods should be doing:</p><ul><li><code>#isBackwardSlashWin</code></li><li><code>#isForwardSlashWin</code></li><li><code>#isVerticalWin</code></li><li><code>#isHorizontalWin</code></li></ul><p>In each of these new methods, we are just returning <code>false</code> for the time being.</p><p>Now that we have the four methods that we will need for checking if a player has won the game, we will need to call these methods in our existing <code>#checkForGameEnd</code> method. In the <code>#checkForGameEnd</code> method, replace the following line of code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>didPlayerWin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><p>with the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>didPlayerWin</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isHorizontalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isVerticalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isForwardSlashWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isBackwardSlashWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span></code></pre></div><p>In the code above, we just updated the <code>didPlayerWin</code> variable value to no longer be hard coded to <code>false</code> and instead make this value be <code>true</code> if any of the new private methods return <code>true</code>. For the time being, we have called each of these methods with the <code>row</code> and <code>col</code> values of where the game piece was placed, and we passed <code>0</code> for the remaining arguments.</p><p>Next, we will start to add the logic for each of these possible win conditions.</p><h2 id=checking-for-a-vertical-win>Checking For A Vertical Win</h2><p>To check for a win in a column, we just need to take the location of where the last game piece was played and validate that the 3 game pieces below that one match the one that was played. The reason we only need to check this one combination is due to how the game of Connect Four is played, since when a game piece is dropped into a column, we know that the row the game piece lands in is the highest row in that column at that time.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-3.png alt="Checking for a vertical win"></p><p>Also, since we know that we require at least four game pieces in one column, if the game piece lands in one of the bottom 3 rows, we automatically know that the player did not get a vertical win from the last game piece that was played.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-4.png alt="Checking for a vertical win"></p><p>To perform this check, replace all of the code in the <code>#isVerticalWin</code> method with the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>row</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cells</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>],
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>col</span>],
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>][<span style=color:#a6e22e>col</span>],
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>][<span style=color:#a6e22e>col</span>],
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isWin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>doAllCellsMatch</span>(<span style=color:#a6e22e>cells</span>, <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>]);
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#a6e22e>isWin</span>;
</span></span></code></pre></div><p>In the code above, we did the following:</p><ul><li>We added the check to make sure the game piece is in the top 3 rows of the game board and if not, we return <code>false</code> since it is not possible to have four game pieces in that column.</li><li>We then grabbed a reference to the value of the last game piece that was played, a reference to the 3 game pieces below that game piece, and we passed those values to a new private method called <code>#doAllCellsMatch</code>. This method will just validate that all of the provided game piece values match the game piece that was played.</li><li>We then returned the <code>true</code> or <code>false</code> depending on the result of the new <code>#doAllCellsMatch</code> method.</li></ul><p>Now, lets create the new <code>#doAllCellsMatch</code> private method. In the <code>src/connect-four.ts</code> file, add the following code to our <code>ConnectFour</code> class:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * Checks to see if all cells in the provided array match the provided value. If so,
</span></span></span><span style=display:flex><span><span style=color:#75715e> * update the internal game state to have the appropriate winner value.
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>doAllCellsMatch</span>(<span style=color:#a6e22e>cells</span>: <span style=color:#66d9ef>number</span>[], <span style=color:#a6e22e>value</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>boolean</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isWin</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cells</span>.<span style=color:#a6e22e>every</span>((<span style=color:#a6e22e>cell</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cell</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>value</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>cell</span> <span style=color:#f92672>!==</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isWin</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>value</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>gameWinner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Player</span>.<span style=color:#a6e22e>ONE</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>gameWinner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Player</span>.<span style=color:#a6e22e>TWO</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In the code above, we are simply checking if all of the provided game piece values are the same, and if they match the value of the game piece that was last played. If they all match, then we update the winner of the game by setting the <code>#gameWinner</code> property on our class.</p><h2 id=checking-for-a-horizontal-win>Checking For A Horizontal Win</h2><p>To check for a win in a row, we will need to take the location of where the last game piece was played and validate all of the possible winning combinations that can be made from that location. As an example, in the image below if the player places a game piece in the third column, then we would need to check the following combinations to see if there is four in a row, since they all contain the third column:</p><ul><li>first, second, third, and fourth column</li><li>second, third, fourth, and firth column</li><li>third, fourth, fifth, and sixth column</li></ul><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-5.png alt="Possible winning combinations for horizontal check"></p><p>Now, to figure out which combinations we need to check, we can use the column that the game piece was dropped into as a focal point. We know that based on this position, the columns we will need to check will be within 3 columns, since we only care about four game pieces being in a row. In the example above, since we dropped the game piece into the third column, then we know that we only need to check for winning combinations that contain columns 1 - 6. If the game piece was dropped into the fourth column, then we would need to check for winning combinations that contain columns 1 - 7.</p><p>To perform this check, replace all of the code in the <code>#isHorizontalWin</code> method with the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lastPiecePlayedRow</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>col</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>minCol</span>; <span style=color:#a6e22e>col</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>maxCol</span>; <span style=color:#a6e22e>col</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cells</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>],
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>  ];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isWin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>doAllCellsMatch</span>(<span style=color:#a6e22e>cells</span>, <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>]);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isWin</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><p>In the code above, we are creating the possible winning combinations by starting at the <code>minCol</code> value that is provided as an argument to our method, and we are grabbing a reference to the next three cells. From there, we are checking to see if that combination is a winning combination by passing the values to the <code>#doAllCellsMatch</code> method we created before. If the combination is not a win, then we check the next combination, and if we don&rsquo;t end up finding a winning combination, then we just return <code>false</code>.</p><p>Now, to find the minimum and maximum column values, we can use the <code>Math.min</code> and <code>Math.max</code> static methods. For the minimum column value, we want to take the index of the column that the game piece was placed at and subtract 3 from this value, and from there we will want to compare that value with <code>0</code>, and take the larger of the two values. The reason for this is so that we make sure our minimum column index stays within the bounds of our game board. As an example, if we place a game piece in the 2nd column, which would be index <code>1</code> in our board, then we know that minimum column index that we would check would be <code>0</code>, since that is the first column in the board.</p><p>To find the maximum column value, we will want to take the index of the column that the last game piece was placed and add 3 to this value, and from there we will want to compare this value with our maximum column index, and take the smaller of the two values. This will ensure our column checks will stay within the bounds of our game board.</p><p>In order to find these two values, we will create two utility functions that will calculate these values. To do this, create a new file in the <code>src</code> folder called <code>utils.ts</code> and add the following code to the file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>num</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>num</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>num</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>max</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>num</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>max</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then, in the <code>src/connect-four.ts</code> file, add the following code to the top of the <code>#checkForGameEnd</code> method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>minCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>col</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>NUMBER_OF_COLS</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span></code></pre></div><p>Finally, we just need to pass these values to our <code>#isHorizontalWin</code> method. To do this, replace the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isHorizontalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)
</span></span></code></pre></div><p>with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isHorizontalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>minCol</span>, <span style=color:#a6e22e>maxCol</span>)
</span></span></code></pre></div><p>With that final change, we have the logic in place for checking for a horizontal win. We will now discuss how we can check for our diagonal wins.</p><h2 id=checking-for-a-diagonal-forward-slash-win>Checking For A Diagonal Forward Slash Win</h2><p>Similar to the logic for checking for a horizontal win, we will need to check all of the possible winning combinations that include the location where our game piece landed, and we will do this by using the position of our last placed game piece as a focal point. From this focal point, we know that the positions that we need to check will be within 3 columns and 3 rows of this focal point.</p><p>As an example, in the image below, if we placed a game piece in the 3rd column and it landed in the 2nd from the bottom row, then we would need to check two combinations.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-6.png alt="Possible winning combinations for diagonal check"></p><p>Now, to figure out which combinations we need to check, we need to start at the location of where the game piece was placed and count up to 3 spaces away by moving 1 column to the left and 1 column down at a time. The location we land in will be the starting location of the combinations we need to check.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-7.png alt="Finding winning combinations for diagonal check"></p><p>We will start from this location and compare that value with the next three cells in that diagonal. If that combination is not a win, then we will move up to the next possible cell and do the same check, and we will continue to do this until we get back to the cell that game piece was placed in, or if we get to a point where we will not have four cells in a sequence because we are too close to the edge of the game board.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-8.png alt="Checking for wins in a diagonal sequence"></p><p>Now, in order to figure out how far away the starting location is, we need to know how far away the current game pieces location is from the edge of the game board. As an example, in the image below we can see that from our game pieces location we are 2 columns from the left edge of the board and only 1 row from the bottom edge of the board. Due to this, our starting location for our combination check can be at max 1 location away.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-6.png alt="Possible winning combinations for diagonal check"></p><p>Before we start adding our game logic to perform what we described above, we are going to maximum row value that will be used for checking the possible winning combinations. To find this value, we will take the index of the row of where our game piece was placed and add 3 to that value, and from there we will want to compare this value with our maximum row index, and take the smaller of the two values. This will be similar to what we did to find the maximum column value before. To do this in our code, we will want to update our <code>#checkForGameEnd</code> method to match the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>minCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>col</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>NUMBER_OF_COLS</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxRow</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>NUMBER_OF_ROWS</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// see if a player won based off of last piece that placed
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>didPlayerWin</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isHorizontalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>minCol</span>, <span style=color:#a6e22e>maxCol</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isVerticalWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isForwardSlashWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>minCol</span>, <span style=color:#a6e22e>maxRow</span>) <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>isBackwardSlashWin</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>maxCol</span>, <span style=color:#a6e22e>maxRow</span>);
</span></span></code></pre></div><p>In the code above, we added the new <code>maxRow</code> variable that determines the maximum row value that can be used for our possible winning combination checks. Besides this, we also updated the <code>#isForwardSlashWin</code> and <code>#isBackwardSlashWin</code> method calls to use the proper arguments based on the <code>minCol</code>, <code>maxCol</code>, and <code>maxRow</code> values.</p><p>Finally, we can update the <code>#isForwardSlashWin</code> method to have the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>//  need to determine a new max and min based on the diagonal
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>maxDiagonalSpaces</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>col</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>minCol</span>, <span style=color:#a6e22e>maxRow</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>row</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>maxDiagonalSpaces</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>col</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>maxDiagonalSpaces</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>maxDiagonalSpaces</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cells</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span>][<span style=color:#a6e22e>tempCol</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isWin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>doAllCellsMatch</span>(<span style=color:#a6e22e>cells</span>, <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isWin</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maxDiagonalSpaces</span><span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><p>In the code above, we are doing the following:</p><ul><li>First, we are calculating the furthest number of spaces away we can use for determining the possible winning combinations, and we are storing that value in a variable called <code>maxDiagonalSpaces</code>. To find this value, we are taking our maximum row and minium column values and we are comparing those values to the row and column of the game piece that was placed to find how far away from the game board we are. We then take the minimum of these two values since this will limit the number of spaces we can check.</li><li>Once we have this value, we then use that value to determine our start location for the possible winning combination check by taking our current column index and subtracting that value from it, that way we are moving to the left. We then take the current row index and add that value to it to determine how far down we need to move in our board.</li><li>With both of these values, we then grab a reference to that cell and compare that value with the next 3 cells in the diagonal row. If all of the cells match, then we have a win and we can return <code>true</code> early. Otherwise, we subtract 1 from <code>maxDiagonalSpaces</code> variable and check the next possible winning combination.</li><li>Finally, we return <code>false</code> if we do not find any winning combinations.</li></ul><h2 id=checking-for-a-diagonal-backward-slash-win>Checking For A Diagonal Backward Slash Win</h2><p>The last game logic we need to add for checking for a win is the logic for checking for a diagonal win in the other direction. For the most part, this logic is very similar to the logic we added for the forward slash diagonal win check.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-9.png alt="Possible winning combinations for backward diagonal slash"></p><p>The main difference is when we go to find the starting location for our checks, we move to the right. As an example, in the image below if we placed our game piece in the 4th column and it landed in the 3rd row from the top, we would move 1 column to the right and 1 row down, and do this 3 times.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-10.png alt="Finding winning combinations for backward diagonal check"></p><p>This would result in our starting location for our winning combination check. We would then just iterate through the sequences until we are back at the original row and column indexes, or until we no longer have a sequence of four if we ware to close to the game board edge.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-11.png alt="Checking for wins in a backward diagonal sequence"></p><p>To perform this check, add the following code to the <code>#isBackwardSlashWin</code> method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>//  need to determine a new max and min based on the diagonal
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>maxDiagonalSpaces</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>maxCol</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>col</span>, <span style=color:#a6e22e>maxRow</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>row</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>maxDiagonalSpaces</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>col</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>maxDiagonalSpaces</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>maxDiagonalSpaces</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>cells</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span>][<span style=color:#a6e22e>tempCol</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>tempRow</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3</span>][<span style=color:#a6e22e>tempCol</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>    ];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isWin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>doAllCellsMatch</span>(<span style=color:#a6e22e>cells</span>, <span style=color:#66d9ef>this</span>.<span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>board</span>[<span style=color:#a6e22e>row</span>][<span style=color:#a6e22e>col</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isWin</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maxDiagonalSpaces</span><span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><p>This code is very similar to the code we added in the <code>#isForwardSlashWin</code> method. A few of the differences are:</p><ul><li>When we are finding the <code>maxDiagonalSpaces</code>, we are using the maximum column index since we need to know how far we are from the right side of the board.</li><li>When we are finding the four cells that make up a combination, we are moving towards the upper left hand corner of the game board, which is why we are subtracting values from our <code>tempRow</code> and <code>tempCol</code> indexes.</li></ul><p>With this game logic in place, we now have all of the logic for checking if a player won in place! If you save your game and run the tests, everything should be still passing. We will now add some new tests to our <code>tests/connect-four.ts</code> file to validate all of the logic that we have added.</p><h2 id=updated-test>Updated Test</h2><p>Now that we have all of the logic place for allowing a player to win the game, we will test our game logic by adding some tests to check for the different win variations, and for checking if the correct player won. Here is a summary of the tests we are going to add:</p><ul><li>Checking if player one has won the game when that player gets a Connect Four.</li><li>Checking if player two has won the game when that player gets a Connect Four.</li><li>Checking if the game ends in a tie if no player has won the game after the board has been filled.</li><li>Checking for different win variations for each of the possible wins: vertical, horizontal, and forward and backward diagonal wins.</li></ul><p>To get started, add the code in the collapsible section below to the <code>tests/connect-four.ts</code> file:</p><details><summary>Click to expand this section for new tests</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>/* Connect Four - Game Finished Tests */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setupGameOverTests</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>connectFourGameFinishedSuite</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uvu</span>.<span style=color:#a6e22e>suite</span>(<span style=color:#e6db74>&#39;Connect Four - Game Finished&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>.<span style=color:#a6e22e>before</span>.<span style=color:#a6e22e>each</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>connectFour</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ConnectFour</span>();
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player one to win if valid moves are made by both players and player one provides a winning combination&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player two to win if valid moves are made by both players and player two provides a winning combination&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R R # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.TWO</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should end in a draw if the board is filled and no player provides a winning combination&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// fill first and second columns
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// fill third and fourth columns
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// fill fifth and six columns
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// fill the last column
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;undefined&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#66d9ef>undefined</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>(<span style=color:#e6db74>&#39;should throw an error if the game is over and a player tries to make a move&#39;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>throws</span>(() <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#ae81ff>0</span>), <span style=color:#e6db74>/has already ended/</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentPlayersTurn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>playersTurn</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>currentPlayersTurn</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>currentPlayersTurn</span>, <span style=color:#a6e22e>Player</span>.<span style=color:#a6e22e>ONE</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameFinishedSuite</span>.<span style=color:#a6e22e>run</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* Connect Four - Vertical Wins */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setupVerticalWinTests</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uvu</span>.<span style=color:#a6e22e>suite</span>(<span style=color:#e6db74>&#39;Connect Four - Vertical Wins&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span>.<span style=color:#a6e22e>before</span>.<span style=color:#a6e22e>each</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>connectFour</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ConnectFour</span>();
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if last piece in a column forms four in a column&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B R # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B R R # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.TWO</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if second to last piece in a column forms four in a column&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B R # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B R # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B R # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B R # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.TWO</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if third to last piece in a column forms four in a column&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R B # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameVerticalWinsSuite</span>.<span style=color:#a6e22e>run</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* Connect Four - Horizontal Wins */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setupHorizontalWinTests</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uvu</span>.<span style=color:#a6e22e>suite</span>(<span style=color:#e6db74>&#39;Connect Four - Horizontal Wins&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>.<span style=color:#a6e22e>before</span>.<span style=color:#a6e22e>each</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>connectFour</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ConnectFour</span>();
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>(<span style=color:#e6db74>&#39;should allow player to win if last piece in a row forms four in a row&#39;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      B B B # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      R R R R # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if last piece in the middle of a row forms four in a row&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        B # B B # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        R R R R # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if last piece placed at the end of a row forms four in a row&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # B B # B
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # R R R R
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win if all pieces are placed in the middle of a row&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # B # B B #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # R R R R #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameHorizontalWinsSuite</span>.<span style=color:#a6e22e>run</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* Connect Four - Forward Slash Wins */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setupForwardSlashWinTests</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uvu</span>.<span style=color:#a6e22e>suite</span>(<span style=color:#e6db74>&#39;Connect Four - Forward Slash Wins&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>.<span style=color:#a6e22e>before</span>.<span style=color:#a6e22e>each</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>connectFour</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ConnectFour</span>();
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a forward slash in the bottom left corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # 1 2 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # 1 2 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 2 1 2 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a forward slash in the bottom right corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # 1 1 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # 2 1 2 2 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>(<span style=color:#e6db74>&#39;should allow player to win with a forward slash in the middle&#39;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 1 2 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # 1 2 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      1 2 1 2 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      1 2 1 2 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      1 2 1 2 2 # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>(<span style=color:#e6db74>&#39;should allow player to win with a forward slash in the top right corner&#39;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # # 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # # 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # # 1 2 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # # 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 2 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a forward slash in the middle right side&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # 1 2 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # 2 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameForwardSlashWinSuite</span>.<span style=color:#a6e22e>run</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* Connect Four - Backward Slash Wins Tests */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setupBackwardSlashWinTests</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uvu</span>.<span style=color:#a6e22e>suite</span>(<span style=color:#e6db74>&#39;Connect Four - Backward Slash Wins&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>.<span style=color:#a6e22e>before</span>.<span style=color:#a6e22e>each</span>(() <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>connectFour</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ConnectFour</span>();
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a backward slash in the bottom right corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 2 1 2 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 2 1 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 2 2 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a backward slash in the bottom left corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        2 1 # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 2 1 # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 2 2 1 2 # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>5</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>4</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>(<span style=color:#e6db74>&#39;should allow player to win with a backward slash from the middle&#39;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 1 # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 1 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 2 2 1 # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 1 2 2 1 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      # # 2 1 1 2 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>      2 # 1 2 2 1 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>    */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a backward slash in the top left corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 # # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        2 1 # # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        1 2 1 # # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        2 1 2 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        2 1 2 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        2 1 2 1 # # 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>2</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>1</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>0</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;should allow player to win with a backward slash in the top right corner&#39;</span>,
</span></span><span style=display:flex><span>    () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>      <span style=color:#75715e>/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 # # #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 2 1 2 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 2 1 1 #
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 2 2 1
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>        # # # 1 2 1 2
</span></span></span><span style=display:flex><span><span style=color:#75715e>      */</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span>: <span style=color:#66d9ef>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>moves</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>boardState</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>          [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player.ONE</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>winningCells</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>6</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>3</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>5</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>2</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>4</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>1</span> },
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>3</span>, <span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>0</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>      };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>moves</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>move</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>makeMove</span>(<span style=color:#a6e22e>move</span>);
</span></span><span style=display:flex><span>      });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isGameOver</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>isGameOver</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#e6db74>&#39;boolean&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>isGameOver</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>winner</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>gameWinner</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#66d9ef>type</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#e6db74>&#39;string&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>winner</span>, <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>winner</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assert</span>.<span style=color:#a6e22e>equal</span>(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>boardState</span>, <span style=color:#a6e22e>connectFour</span>.<span style=color:#a6e22e>board</span>);
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connectFourGameBackwardSlashWinSuite</span>.<span style=color:#a6e22e>run</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></details><br><p>Next, we will need to call our new test functions, and we can do this by adding the following code to the bottom of the <code>tests/connect-four.ts</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#a6e22e>setupGameOverTests</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>setupVerticalWinTests</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>setupHorizontalWinTests</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>setupForwardSlashWinTests</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>setupBackwardSlashWinTests</span>();
</span></span></code></pre></div><p>Finally, in the code above we referenced a new <code>type</code> called <code>Data</code>, so we will need to add this new <code>type</code> to our <code>tests/connect-four.ts</code> file above our tests and add the required imports:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>uvu</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;uvu&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>assert</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;uvu/assert&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>ConnectFour</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../src&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>CellRange</span>, <span style=color:#a6e22e>Coordinate</span>, <span style=color:#a6e22e>Player</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../src/connect-four&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Data</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moves</span>: <span style=color:#66d9ef>number</span>[];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>boardState</span>: <span style=color:#66d9ef>CellRange</span>[][];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>winner</span>: <span style=color:#66d9ef>Player</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>winningCells</span>: <span style=color:#66d9ef>Coordinate</span>[];
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>Now, if you run the tests you should see that everything passes.</p><p><img src=./images/build-a-connect-four-library-in-typescript-part-4-12.png alt="Updated Tests"></p><h2 id=wrap-up>Wrap Up</h2><p>We have completed the logic for checking if a player has won the game, and we have added new tests to cover our code changes.</p><p>You can find the completed source code for this article here on GitHub:
<a href=https://github.com/devshareacademy/connect-four/tree/blog-post-4 target=_blank rel=noopener>Blog Post 4 Code</a>
.</p><p>If you run into any issues, please reach out via
<a href=https://github.com/devshareacademy/connect-four/discussions target=_blank rel=noopener>GitHub Discussions</a>
, or leave a comment down below.</p><p>In
<a href=/post/2023/02/build-a-connect-four-library-in-typescript-part-5/>final part</a>
of this series, we will update our game logic to allow us to return the winning game cells and we will do some code refactoring by moving our type definitions to a new file.</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/html5/ rel=tag>HTML5</a></li><li class=tags__item><a class="tags__link btn" href=/tags/game-development/ rel=tag>Game Development</a></li><li class=tags__item><a class="tags__link btn" href=/tags/typescript/ rel=tag>TypeScript</a></li><li class=tags__item><a class="tags__link btn" href=/tags/tutorial/ rel=tag>Tutorial</a></li><li class=tags__item><a class="tags__link btn" href=/tags/connect-four/ rel=tag>Connect Four</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Scott Westover avatar" src=https://secure.gravatar.com/avatar/d5b6863a31baa2c531949202b1de9c82 class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About Scott Westover</span></div><div class=authorbox__description>Scott Westover is a Software Developer who loves coding, writing tutorials, participating in game jams, and learning about new technologies. When he is not coding, he is either spending time with his wife and two kids or is reading a great book. Scott is looking to form connections and share his knowledge.</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/post/2023/01/build-a-connect-four-library-in-typescript-part-3/ rel=prev><span class=pager__subtitle>&#8201;Previous</span><p class=pager__title>Build A Connect Four Library In TypeScript - Part 3</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/post/2023/02/build-a-connect-four-library-in-typescript-part-5/ rel=next><span class=pager__subtitle>Next&#8201;</span><p class=pager__title>Build A Connect Four Library In TypeScript - Part 5</p></a></div></nav><section class=comments><div id=gitment-comments></div></section><script src=https://utteranc.es/client.js repo=scottwestover/scottwestover.dev issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2023 Scott Westover.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>